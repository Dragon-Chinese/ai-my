
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-ChYkabeB.js";import{d as p,Y as z,a2 as S,r as h,A as v,g as d,w as u,$ as g,p as s,a0 as $,z as k,s as w,o as P,a9 as j,a1 as T,C as U,D as E,B as A,ae as I,aD as V,aE as D,W as N,aF as O,e as f,h as B,t as x,c as b,b as m,F as C,L as q,l as H,j as G,aG as Q,m as W,n as Y,aH as J,Q as K}from"./index-CT_znvxk.js";import{e as X}from"./eventBus-CGRXT3Tn.js";const[R,Z]=z("AvatarRoot"),ee=p({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return S(),Z({imageLoadingStatus:h("loading")}),(a,e)=>(d(),v(s($),{"as-child":a.asChild,as:a.as},{default:u(()=>[g(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),te=p({__name:"AvatarFallback",props:{delayMs:{default:0},asChild:{type:Boolean},as:{default:"span"}},setup(t){const a=t,e=R();S();const o=h(!1);let n;return k(e.imageLoadingStatus,l=>{l==="loading"&&(o.value=!1,a.delayMs?n=setTimeout(()=>{o.value=!0,clearTimeout(n)},a.delayMs):o.value=!0)},{immediate:!0}),(l,r)=>o.value&&s(e).imageLoadingStatus.value!=="loaded"?(d(),v(s($),{key:0,"as-child":l.asChild,as:l.as},{default:u(()=>[g(l.$slots,"default")]),_:3},8,["as-child","as"])):w("",!0)}});function se(t,a){const e=h("idle"),o=h(!1),n=l=>()=>{o.value&&(e.value=l)};return P(()=>{o.value=!0,k([()=>t.value,()=>a==null?void 0:a.value],([l,r])=>{if(!l)e.value="error";else{const c=new window.Image;e.value="loading",c.onload=n("loaded"),c.onerror=n("error"),c.src=l,r&&(c.referrerPolicy=r)}},{immediate:!0})}),j(()=>{o.value=!1}),e}const ae=p({__name:"AvatarImage",props:{src:{},referrerPolicy:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(t,{emit:a}){const e=t,o=a,{src:n,referrerPolicy:l}=T(e);S();const r=R(),c=se(n,l);return k(c,i=>{o("loadingStatusChange",i),i!=="idle"&&(r.imageLoadingStatus.value=i)},{immediate:!0}),(i,_)=>U((d(),v(s($),{role:"img","as-child":i.asChild,as:i.as,src:s(n),"referrer-policy":s(l)},{default:u(()=>[g(i.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[E,s(c)==="loaded"]])}}),oe=p({__name:"Avatar",props:{class:{},size:{default:"sm"},shape:{default:"circle"}},setup(t){const a=t;return(e,o)=>(d(),v(s(ee),{class:A(s(I)(s(re)({size:e.size,shape:e.shape}),a.class))},{default:u(()=>[g(e.$slots,"default")]),_:3},8,["class"]))}}),ne=p({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{}},setup(t){const a=t;return(e,o)=>(d(),v(s(te),V(D(a)),{default:u(()=>[g(e.$slots,"default")]),_:3},16))}}),le=p({__name:"AvatarImage",props:{src:{},referrerPolicy:{},asChild:{type:Boolean},as:{}},setup(t){const a=t;return(e,o)=>(d(),v(s(ae),N(a,{class:"h-full w-full object-cover"}),{default:u(()=>[g(e.$slots,"default")]),_:3},16))}}),re=O("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}}),ce=p({name:"FaAvatar",__name:"index",props:{src:{},fallback:{},shape:{},class:{}},setup(t){const a=t;return(e,o)=>(d(),v(s(oe),{shape:e.shape,class:A(a.class)},{default:u(()=>[f(s(le),{src:e.src},null,8,["src"]),f(s(ne),{class:"inline-flex"},{default:u(()=>[g(e.$slots,"default",{},()=>[B(x(e.fallback),1)])]),_:3})]),_:3},8,["shape","class"]))}}),ie={class:"min-h-full w-full"},ue={class:"fixed inset-s-0 bottom-0 top-0 h-full w-40 border-e"},de=["onClick"],pe={class:"text-base text-accent-foreground leading-tight"},fe={class:"text-xs text-accent-foreground/50"},me={class:"ms-40 min-h-full flex-col-center p-10"},_e={key:0},he=p({__name:"profile",setup(t){const a=h(0),e=h([{title:"基本设置",description:"账号的基本信息，头像、昵称等"},{title:"安全设置",description:"定期修改密码可以提高帐号安全性"}]);return(o,n)=>(d(),b("div",ie,[m("div",ue,[(d(!0),b(C,null,q(s(e),(l,r)=>(d(),b("div",{key:r,class:A(["cursor-pointer px-4 py-3 transition-background-color space-y-2 hover-bg-accent/50",{"bg-accent hover-bg-accent!":s(a)===r}]),onClick:c=>a.value=r},[m("div",pe,x(l.title),1),m("div",fe,x(l.description),1)],10,de))),128))]),m("div",me,[s(a)===0?(d(),b("div",_e," 请开发者自行扩展 ")):w("",!0)])]))}}),ve={class:"space-y-2"},ge={class:"flex-center-start gap-2"},be={class:"space-y-1"},xe={class:"text-base lh-none"},ye=p({__name:"index",setup(t){const a=H(),e=G(),o=Q(),n=h(!1);return(l,r)=>{const c=ce,i=Y,_=W,y=J,F=M;return d(),b(C,null,[f(y,{align:"end",items:[[{label:s(e).settings.home.title,icon:"i-mdi:home",handle:()=>s(a).push({path:s(e).settings.home.fullPath}),hide:!s(e).settings.home.enable},{label:"个人设置",icon:"i-mdi:account",handle:()=>n.value=!0}],[{label:"快捷键介绍",icon:"i-mdi:keyboard",handle:()=>s(X).emit("global-hotkeys-intro-toggle"),hide:s(e).mode!=="pc"}],[{label:"退出登录",icon:"i-mdi:logout",handle:()=>s(o).logout(s(e).settings.home.fullPath)}]],class:"flex-center"},{label:u(()=>[m("div",ve,[r[2]||(r[2]=m("div",{class:"text-xs text-secondary-foreground/50 font-light"}," 当前登录账号 ",-1)),m("div",ge,[f(c,{src:s(o).avatar,fallback:s(o).account.slice(0,5),shape:"square"},null,8,["src","fallback"]),m("div",be,[m("div",xe,x(s(o).account),1),r[1]||(r[1]=m("div",{class:"text-xs text-secondary-foreground/50 font-normal"}," 这里可以显示邮箱 ",-1))])])])]),default:u(()=>[f(_,{variant:"ghost",class:"h-9 flex-center gap-1 px-2"},{default:u(()=>[f(c,{src:s(o).avatar,class:"size-6"},{default:u(()=>[f(i,{name:"i-carbon:user-avatar-filled-alt",class:"size-6 text-secondary-foreground/50"})]),_:1},8,["src"]),s(e).mode==="pc"?(d(),b(C,{key:0},[B(x(s(o).account)+" ",1),f(i,{name:"i-ep:caret-bottom"})],64)):w("",!0)]),_:1})]),_:1},8,["items"]),f(F,{modelValue:s(n),"onUpdate:modelValue":r[0]||(r[0]=L=>K(n)?n.value=L:null),"align-center":"",header:!1,footer:!1,"close-on-click-overlay":!1,"close-on-press-escape":!1,class:"h-500px min-w-600px overflow-hidden","content-class":"min-h-full p-0 flex"},{default:u(()=>[f(he)]),_:1},8,["modelValue"])],64)}}}),Ce=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),Se=/\d/,$e=["-","_","/","."];function ke(t=""){if(!Se.test(t))return t!==t.toLowerCase()}function we(t,a){const e=$e,o=[];if(!t||typeof t!="string")return o;let n="",l,r;for(const c of t){const i=e.includes(c);if(i===!0){o.push(n),n="",l=void 0;continue}const _=ke(c);if(r===!1){if(l===!1&&_===!0){o.push(n),n=c,l=_;continue}if(l===!0&&_===!1&&n.length>1){const y=n.at(-1);o.push(n.slice(0,Math.max(0,n.length-1))),n=y+c,l=_;continue}}n+=c,l=_,r=i}return o.push(n),o}function Ae(t){return t?t[0].toUpperCase()+t.slice(1):""}function Be(t,a){return t?(Array.isArray(t)?t:we(t)).map(e=>Ae(e)).join(""):""}function Re(t){const a=Object.assign({"./ToolbarEnd/index.vue":Ce}),e=`./${Be(t)}/index.vue`,o=a[e];return o||{default:p({name:"SlotsInvalidComponent",render:()=>null})}}function ze(t){const a=Re(t);return p(a.default)}export{ze as u};
