
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{b6 as V,r as P,aT as H,b7 as j,d as _,a1 as W,a2 as D,b8 as S,Y as K,$ as h,y as C,a5 as X,z as Y,A as b,g as m,w as v,p as l,b9 as q,ba as Q,o as I,e as x,a0 as U,W as O,ax as J,bb as Z,aV as ee,bc as te,bd as M,be as oe,X as ae,h as ne,t as N,ab as se,bf as re,aQ as le,ah as F,E as ie,bg as de,aD as E,aE as L,bh as ue,ae as ce,b as pe}from"./index-CT_znvxk.js";function fe(o,t){const e=V(!1,300),a=P(null),n=j();function d(){a.value=null,e.value=!1}function r(u,c){const f=u.currentTarget,s={x:u.clientX,y:u.clientY},i=ye(s,f.getBoundingClientRect()),p=ve(s,i),y=ge(c.getBoundingClientRect()),T=be([...p,...y]);a.value=T,e.value=!0}return H(u=>{if(o.value&&t.value){const c=s=>r(s,t.value),f=s=>r(s,o.value);o.value.addEventListener("pointerleave",c),t.value.addEventListener("pointerleave",f),u(()=>{var s,i;(s=o.value)==null||s.removeEventListener("pointerleave",c),(i=t.value)==null||i.removeEventListener("pointerleave",f)})}}),H(u=>{var c;if(a.value){const f=s=>{var g,w;if(!a.value||!(s.target instanceof HTMLElement))return;const i=s.target,p={x:s.clientX,y:s.clientY},y=((g=o.value)==null?void 0:g.contains(i))||((w=t.value)==null?void 0:w.contains(i)),T=!he(p,a.value),B=!!i.closest("[data-grace-area-trigger]");y?d():(T||B)&&(d(),n.trigger())};(c=o.value)==null||c.ownerDocument.addEventListener("pointermove",f),u(()=>{var s;return(s=o.value)==null?void 0:s.ownerDocument.removeEventListener("pointermove",f)})}}),{isPointerInTransit:e,onPointerExit:n.on}}function ye(o,t){const e=Math.abs(t.top-o.y),a=Math.abs(t.bottom-o.y),n=Math.abs(t.right-o.x),d=Math.abs(t.left-o.x);switch(Math.min(e,a,n,d)){case d:return"left";case n:return"right";case e:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ve(o,t,e=5){const a=[];switch(t){case"top":a.push({x:o.x-e,y:o.y+e},{x:o.x+e,y:o.y+e});break;case"bottom":a.push({x:o.x-e,y:o.y-e},{x:o.x+e,y:o.y-e});break;case"left":a.push({x:o.x+e,y:o.y-e},{x:o.x+e,y:o.y+e});break;case"right":a.push({x:o.x-e,y:o.y-e},{x:o.x-e,y:o.y+e});break}return a}function ge(o){const{top:t,right:e,bottom:a,left:n}=o;return[{x:n,y:t},{x:e,y:t},{x:e,y:a},{x:n,y:a}]}function he(o,t){const{x:e,y:a}=o;let n=!1;for(let d=0,r=t.length-1;d<t.length;r=d++){const u=t[d].x,c=t[d].y,f=t[r].x,s=t[r].y;c>a!=s>a&&e<(f-u)*(a-c)/(s-c)+u&&(n=!n)}return n}function be(o){const t=o.slice();return t.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),me(t)}function me(o){if(o.length<=1)return o.slice();const t=[];for(let a=0;a<o.length;a++){const n=o[a];for(;t.length>=2;){const d=t[t.length-1],r=t[t.length-2];if((d.x-r.x)*(n.y-r.y)>=(d.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();const e=[];for(let a=o.length-1;a>=0;a--){const n=o[a];for(;e.length>=2;){const d=e[e.length-1],r=e[e.length-2];if((d.x-r.x)*(n.y-r.y)>=(d.y-r.y)*(n.x-r.x))e.pop();else break}e.push(n)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const G="tooltip.open",[A,_e]=K("TooltipProvider"),Ce=_({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(o){const t=o,{delayDuration:e,skipDelayDuration:a,disableHoverableContent:n,disableClosingTrigger:d,ignoreNonKeyboardFocus:r,disabled:u}=W(t);D();const c=P(!0),f=P(!1),{start:s,stop:i}=S(()=>{c.value=!0},a,{immediate:!1});return _e({isOpenDelayed:c,delayDuration:e,onOpen(){i(),c.value=!1},onClose(){s()},isPointerInTransitRef:f,disableHoverableContent:n,disableClosingTrigger:d,disabled:u,ignoreNonKeyboardFocus:r}),(p,y)=>h(p.$slots,"default")}}),[R,Te]=K("TooltipRoot"),we=_({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(o,{emit:t}){const e=o,a=t;D();const n=A(),d=C(()=>e.disableHoverableContent??n.disableHoverableContent.value),r=C(()=>e.disableClosingTrigger??n.disableClosingTrigger.value),u=C(()=>e.disabled??n.disabled.value),c=C(()=>e.delayDuration??n.delayDuration.value),f=C(()=>e.ignoreNonKeyboardFocus??n.ignoreNonKeyboardFocus.value),s=X(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});Y(s,$=>{n.onClose&&($?(n.onOpen(),document.dispatchEvent(new CustomEvent(G))):n.onClose())});const i=P(!1),p=P(),y=C(()=>s.value?i.value?"delayed-open":"instant-open":"closed"),{start:T,stop:B}=S(()=>{i.value=!0,s.value=!0},c,{immediate:!1});function g(){B(),i.value=!1,s.value=!0}function w(){B(),s.value=!1}function k(){T()}return Te({contentId:"",open:s,stateAttribute:y,trigger:p,onTriggerChange($){p.value=$},onTriggerEnter(){n.isOpenDelayed.value?k():g()},onTriggerLeave(){d.value?w():B()},onOpen:g,onClose:w,disableHoverableContent:d,disableClosingTrigger:r,disabled:u,ignoreNonKeyboardFocus:f}),($,Le)=>(m(),b(l(q),null,{default:v(()=>[h($.$slots,"default",{open:l(s)})]),_:3}))}}),Be=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(o){const t=o,e=R(),a=A();e.contentId||(e.contentId=Q(void 0,"reka-tooltip-content"));const{forwardRef:n,currentElement:d}=D(),r=P(!1),u=P(!1),c=C(()=>e.disabled.value?{}:{click:B,focus:y,pointermove:i,pointerleave:p,pointerdown:s,blur:T});I(()=>{e.onTriggerChange(d.value)});function f(){setTimeout(()=>{r.value=!1},1)}function s(){r.value=!0,document.addEventListener("pointerup",f,{once:!0})}function i(g){g.pointerType!=="touch"&&!u.value&&!a.isPointerInTransitRef.value&&(e.onTriggerEnter(),u.value=!0)}function p(){e.onTriggerLeave(),u.value=!1}function y(g){var w,k;r.value||e.ignoreNonKeyboardFocus.value&&!((k=(w=g.target).matches)!=null&&k.call(w,":focus-visible"))||e.onOpen()}function T(){e.onClose()}function B(){e.disableClosingTrigger.value||e.onClose()}return(g,w)=>(m(),b(l(Z),{"as-child":"",reference:g.reference},{default:v(()=>[x(l(U),O({ref:l(n),"aria-describedby":l(e).open.value?l(e).contentId:void 0,"data-state":l(e).stateAttribute.value,as:g.as,"as-child":t.asChild,"data-grace-area-trigger":""},J(c.value)),{default:v(()=>[h(g.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),z=_({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,n=R(),{forwardRef:d}=D(),r=ee(),u=C(()=>{var s;return(s=r.default)==null?void 0:s.call(r,{})}),c=C(()=>{var p;if(e.ariaLabel)return e.ariaLabel;let s="";function i(y){typeof y.children=="string"&&y.type!==te?s+=y.children:Array.isArray(y.children)&&y.children.forEach(T=>i(T))}return(p=u.value)==null||p.forEach(y=>i(y)),s}),f=C(()=>{const{ariaLabel:s,...i}=e;return i});return I(()=>{M(window,"scroll",s=>{const i=s.target;i!=null&&i.contains(n.trigger.value)&&n.onClose()}),M(window,G,n.onClose)}),(s,i)=>(m(),b(l(re),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:i[0]||(i[0]=p=>a("escapeKeyDown",p)),onPointerDownOutside:i[1]||(i[1]=p=>{var y;l(n).disableClosingTrigger.value&&((y=l(n).trigger.value)!=null&&y.contains(p.target))&&p.preventDefault(),a("pointerDownOutside",p)}),onFocusOutside:i[2]||(i[2]=se(()=>{},["prevent"])),onDismiss:i[3]||(i[3]=p=>l(n).onClose())},{default:v(()=>[x(l(oe),O({ref:l(d),"data-state":l(n).stateAttribute.value},{...s.$attrs,...f.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:v(()=>[h(s.$slots,"default"),x(l(ae),{id:l(n).contentId,role:"tooltip"},{default:v(()=>[ne(N(c.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),xe=_({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(o){const e=le(o),{forwardRef:a,currentElement:n}=D(),{trigger:d,onClose:r}=R(),u=A(),{isPointerInTransit:c,onPointerExit:f}=fe(d,n);return u.isPointerInTransitRef=c,f(()=>{r()}),(s,i)=>(m(),b(z,O({ref:l(a)},l(e)),{default:v(()=>[h(s.$slots,"default")]),_:3},16))}}),Pe=_({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,n=R(),d=F(e,a),{forwardRef:r}=D();return(u,c)=>(m(),b(l(de),{present:u.forceMount||l(n).open.value},{default:v(()=>[(m(),b(ie(l(n).disableHoverableContent.value?z:xe),O({ref:l(r)},l(d)),{default:v(()=>[h(u.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),De=_({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(o){const t=o;return(e,a)=>(m(),b(l(ue),E(L(t)),{default:v(()=>[h(e.$slots,"default")]),_:3},16))}}),$e=_({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(o,{emit:t}){const n=F(o,t);return(d,r)=>(m(),b(l(we),E(L(l(n))),{default:v(()=>[h(d.$slots,"default")]),_:3},16))}}),Oe=_({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(o,{emit:t}){const e=o,a=t,n=C(()=>{const{class:r,...u}=e;return u}),d=F(n,a);return(r,u)=>(m(),b(l(De),null,{default:v(()=>[x(l(Pe),O({...l(d),...r.$attrs},{class:l(ce)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:v(()=>[h(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ke=_({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(o){const t=o;return(e,a)=>(m(),b(l(Ce),E(L(t)),{default:v(()=>[h(e.$slots,"default")]),_:3},16))}}),Ee=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(o){const t=o;return(e,a)=>(m(),b(l(Be),E(L(t)),{default:v(()=>[h(e.$slots,"default")]),_:3},16))}}),Fe=_({name:"FaTooltip",__name:"index",props:{text:{default:""},delay:{default:300},side:{},align:{},disabled:{type:Boolean}},setup(o){return(t,e)=>(m(),b(l(ke),{"delay-duration":t.delay,disabled:t.disabled},{default:v(()=>[x(l($e),null,{default:v(()=>[x(l(Ee),{"as-child":""},{default:v(()=>[h(t.$slots,"default")]),_:3}),x(l(Oe),{side:t.side,align:t.align,class:"z-10000 text-xs"},{default:v(()=>[h(t.$slots,"content",{},()=>[pe("p",null,N(t.text),1)])]),_:3},8,["side","align"])]),_:3})]),_:3},8,["delay-duration","disabled"]))}});export{Fe as _};
